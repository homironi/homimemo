---
layout: base.njk
eleventyNavigation:
    parent: カテゴリ一覧
    order: 0
---

{# css #}
{% block css -%}
<link rel="stylesheet" href="/styles/categoryListLayout.css" />
<link rel="stylesheet" href="/styles/categoryListThema.css" />
{# カードのcss #}
<link rel="stylesheet" href="/styles/cardLayout.css" />
<link rel="stylesheet" href="/styles/cardThema.css" />
{%- endblock%}

<main class="mainContainer">
    <div class = "sideLWrapper">
    </div>
    <div class="contentWrapper">
        <category class="categoryInner">
            <section class="categoryHeader">
                {% include "breadcrumb.njk" %}
                <h1>{{title}}カテゴリ一覧</h1>
                {# 説明などをここに #}
                {{description}}
                {{content | safe}}
            </section>
            <section class="content">
                <div class ="postListsWrapper">
                    <section class = "postList">
                        {# このカテゴリの記事一覧 #}
                        {% set startNum = posts.length * pagination.pageNumber %}
                        {% set endNum = startNum + posts.length %}
                        {# 新しい順で先頭に来るように処理したいので逆順にする #}
                        {% set postList = collections[category] | dateLatest | reverse | slice(startNum, endNum)%}
                        {% import "card.njk" as card %}
                        {%- for post in postList  %}
                            {{card.card(post)}}
                        {%- endfor %}
                    </section>
                </div>
                {# ページ移動のリンク #}
                <nav class = "pagiNav">
                    <li>{% if page.url != pagination.href.first %}<a href={{ pagination.href.first }}>｜＜</a>{% else %}｜＜{% endif %}</li>
                    <li>{% if pagination.href.previous %}<a href={{ pagination.href.previous }}>＜</a>{% else %}＜{% endif %}</li>
                    {% for pageKey in pagination.pages %}
                    <li><a href={{ pagination.hrefs[ loop.index0 ] }}>{{ loop.index }}</a></li>
                    {% endfor %}
                    <li>{% if pagination.href.next %}<a href={{ pagination.href.next }}>＞</a>{% else %}＞{% endif %}</li>
                    <li>{% if page.url != pagination.href.last %}<a href={{ pagination.href.last }}>＞｜</a>{% else %}＞｜{% endif %}</li>
                </nav>
                {# ページの共有ボタン #}
                {% include "shareButtons.njk" %}
            </section>
        </category>
    </div>
    <div class = "sideRWrapper">
    </div>
</main>